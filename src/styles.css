@config '../tailwind.config.js';
@import "tailwindcss";
@plugin "@tailwindcss/typography";
@source "./app";

@import "prismjs/themes/prism.css";

/* Dark mode variables - used when Tailwind's dark: isn't sufficient */
@layer base {
  :root {
    --color-surface-canvas: #ffffff;
    --color-surface-text: #0f172a;
  }

  .dark {
    --color-surface-canvas: #111827;
    --color-surface-text: #f9fafb;
  }
}

/* Smooth scrolling */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased font-sans;
    background-color: var(--color-surface-canvas);
    color: var(--color-surface-text);
  }

  .dark body {
    @apply bg-slate-950 text-slate-300;
  }

  /* Light mode: selection with dark text */
  *::selection {
    background-color: rgba(99, 102, 241, 0.35);
    color: #1e1b4b;
  }

  /* Dark mode: selection with light text */
  .dark *::selection {
    background-color: rgba(129, 140, 248, 0.5);
    color: #e0e7ff;
  }

  /* Code/terminal: ensure selection stays readable */
  pre::selection,
  code::selection,
  .font-mono::selection {
    background-color: rgba(99, 102, 241, 0.4);
    color: #1e1b4b;
  }
  .dark pre::selection,
  .dark code::selection,
  .dark .font-mono::selection {
    background-color: rgba(129, 140, 248, 0.55);
    color: #c7d2fe;
  }
}

/* Custom scrollbar */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
}

/* Code block improvements */
@layer components {
  pre code {
    @apply block overflow-x-auto p-4;
  }
}

/* Prose: light (default) + dark theme overrides */
@layer components {
  .prose pre {
    background-color: #f6f8fa;
  }

  .dark .prose {
    --tw-prose-body: #cbd5e1;
    --tw-prose-headings: #ffffff;
    --tw-prose-links: #22d3ee;
    --tw-prose-code: #a855f7;
  }

  .dark .prose pre {
    background-color: #0f172a;
  }
}
